{"version":3,"sources":["plugins/commands/roll.js"],"names":["Roll","name","command","type","info","default","level","sendMessage","body","content","QQService","sendGroupMessage","group_id","sendPrivateMessage","user_id","roll","min","max","Math","floor","random","run","params","range","split"],"mappings":"+IAAA;AACA,8E;;;;;;;;;;AAUMA,I,WARL,qBAAQ,EACPC,IAAI,EAAE,KADC,EAEPC,OAAO,EAAE,MAFF,EAGPC,IAAI,EAAE,KAHC,EAIPC,IAAI,EAAE,4CAJC,EAKPC,OAAO,EAAE,IALF,EAMPC,KAAK,EAAE,CANA,EAAR,C,gBAAD,MAQMN,IARN,CAQW;AACTO,EAAAA,WAAW,CAACJ,IAAD,EAAOK,IAAP,EAAaC,OAAb,EAAsB;AAC/B,QAAIN,IAAI,KAAK,OAAb,EAAsB;AACpBO,yBAAUC,gBAAV,CAA2BH,IAAI,CAACI,QAAhC,EAA2C,SAAQH,OAAQ,EAA3D;AACD,KAFD,MAEO,IAAIN,IAAI,KAAK,SAAb,EAAwB;AAC7BO,yBAAUG,kBAAV,CAA6BL,IAAI,CAACM,OAAlC,EAA4C,SAAQL,OAAQ,EAA5D;AACD;AACF;;AAEDM,EAAAA,IAAI,CAACC,GAAD,EAAMC,GAAN,EAAW;AACb,WAAOC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,MAAiBH,GAAG,GAAGD,GAAvB,CAAX,IAA0CA,GAAjD;AACD;;AAEDK,EAAAA,GAAG,CAACC,MAAD,EAASd,IAAT,EAAeL,IAAf,EAAqB;AACtB,UAAMoB,KAAK,GAAGD,MAAM,CAACE,KAAP,CAAa,GAAb,CAAd;AACA,UAAMP,GAAG,GAAG,CAACM,KAAK,CAAC,CAAD,CAAN,IAAa,GAAzB;AACA,UAAMP,GAAG,GAAGO,KAAK,CAAC,CAAD,CAAL,IAAY,CAAxB;AACA,SAAKhB,WAAL,CAAiBJ,IAAjB,EAAuBK,IAAvB,EAA6B,KAAKO,IAAL,CAAUC,GAAV,EAAeC,GAAf,CAA7B;AACD,GAlBQ,C;;;AAqBIjB,I","sourcesContent":["import { Command } from '../../decorators/plugin';\nimport QQService from '../../services/qq-service';\n\n@Command({\n  name: '随机数',\n  command: 'roll',\n  type: 'all',\n  info: '随机roll一个整, \\'!roll xxx\\'来调用(不传递参数默认上限为100)',\n  default: true,\n  level: 1\n})\nclass Roll {\n  sendMessage(type, body, content) {\n    if (type === 'group') {\n      QQService.sendGroupMessage(body.group_id, `roll: ${content}`);\n    } else if (type === 'private') {\n      QQService.sendPrivateMessage(body.user_id, `roll: ${content}`);\n    }\n  }\n\n  roll(min, max) {\n    return Math.floor(Math.random() * (max - min)) + min;\n  }\n\n  run(params, body, type) {\n    const range = params.split(' ');\n    const max = +range[0] || 100;\n    const min = range[1] || 0;\n    this.sendMessage(type, body, this.roll(min, max));\n  }\n}\n\nexport default Roll;\n"],"file":"roll.js","sourceRoot":"/Users/zcwsr/my/japari-admin/src"}