{"version":3,"sources":["plugins/commands/osu-bind.js"],"names":["OSUBind","name","command","type","info","run","params","body","groupId","group_id","userId","user_id","QQService","sendGroupMessage","replace","split","osuName","mode","parseInt","message","OSUService","getInstance","bindOSUId"],"mappings":"kOAAA;AACA;AACA,gF;;;;;;;;;;AAUMA,O,WARL,qBAAQ,EACPC,IAAI,EAAE,SADC,EAEPC,OAAO,EAAE,MAFF,EAGPC,IAAI,EAAE,OAHC,EAIPC,IAAI,EAAG;;sDAJA,EAAR,C,gBAAD,MAQMJ,OARN,CAQc,CACNK,GAAN,CAAUC,MAAV,EAAkBC,IAAlB,EAAwB,8CACJC,OADI,GACyBD,IADzB,CACdE,QADc,CACcC,MADd,GACyBH,IADzB,CACKI,OADL;AAEtB,UAAI,CAACL,MAAL,EAAa;AACXM,2BAAUC,gBAAV,CAA2BL,OAA3B,EAAoC,8BAApC;AACA;AACD;AACDF,MAAAA,MAAM,GAAGA,MAAM,CAACQ,OAAP,CAAe,GAAf,EAAoB,GAApB,CAAT,CANsB,CAMa;AACnCR,MAAAA,MAAM,GAAGA,MAAM,CAACS,KAAP,CAAa,GAAb,CAAT;AACA,YAAMC,OAAO,GAAGV,MAAM,CAAC,CAAD,CAAtB;AACA,YAAMW,IAAI,GAAGX,MAAM,CAAC,CAAD,CAAN,GAAYY,QAAQ,CAACZ,MAAM,CAAC,CAAD,CAAP,EAAY,EAAZ,CAAR,IAA2B,CAAvC,GAA2C,CAAxD;AACA,YAAMa,OAAO,SAASC,oBAAWC,WAAX,GAAyBC,SAAzB,CAAmCd,OAAnC,EAA4CE,MAA5C,EAAoDM,OAApD,EAA6DC,IAA7D,CAAtB;AACAL,yBAAUC,gBAAV,CAA2BL,OAA3B,EAAoCW,OAApC,EAXsB;AAYvB,GAbW,C;;;AAgBCnB,O","sourcesContent":["import { Command } from '../../decorators/plugin';\nimport QQService from '../../services/qq-service';\nimport OSUService from '../../services/osu-service';\n\n@Command({\n  name: 'osu绑定账号',\n  command: 'bind',\n  type: 'group',\n  info: `绑定osu!账号和mode, 使用'!bind 你的id,mode'来调用\n  mode不写默认为osu!模式\n  模式代码: (0 = osu!, 1 = Taiko, 2 = CtB, 3 = osu!mania)`\n})\nclass OSUBind {\n  async run(params, body) {\n    const { group_id: groupId, user_id: userId } = body;\n    if (!params) {\n      QQService.sendGroupMessage(groupId, '非法调用, 使用\\'!help bind\\'查看调用方式');\n      return;\n    }\n    params = params.replace('，', ','); // 处理全角逗号\n    params = params.split(',');\n    const osuName = params[0];\n    const mode = params[1] ? parseInt(params[1], 10) || 0 : 0;\n    const message = await OSUService.getInstance().bindOSUId(groupId, userId, osuName, mode);\n    QQService.sendGroupMessage(groupId, message);\n  }\n}\n\nexport default OSUBind;\n"],"file":"osu-bind.js","sourceRoot":"/Users/zcwsr/my/japari-admin/src"}